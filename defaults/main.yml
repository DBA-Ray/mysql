---
env: dev1
# Which hosts to deploy
deploy_hosts: "mgr_{{ env }}"
# primary hostname for mgr
primary_hostname: "mgr1_{{ env }}"
mgr_group: "mgr_{{ env }}"
# Repo info
remote_repo: https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
# Basic parameters
group_replication_group_name: aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa
mysql_port: 3377
mysqlx_port: 33770
max_connections: 2000
innodb_io_capacity: 10000
timeout: 28800
tmp_size: 1073741824
log_queries_not_using_indexes: 0
min_examined_row_limit: 0
sql_mode: ''
#sql_mode: STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION
# business info
business_user: hlzd
# Directory path
mysql_upgrade_version: mysql-8.0.28-el7-x86_64
mysql_upgrade_package: "{{ mysql_upgrade_version }}.tar.gz"
mysql_version: mysql-8.0.28-el7-x86_64
package_name: "{{ mysql_version }}.tar.gz"
whether_remount_data_disk: False
fstab_src: /dev/vdb1
install_dir: /data
package_dir: "{{ install_dir }}/package"
basedir: "{{ install_dir }}/mysql"
shelldir: "{{ install_dir }}/shell"
monitordir: "{{ install_dir }}/monitor"
datadir: "{{ basedir }}/data_{{ mysql_port }}"
etcdir: "{{ basedir }}/etc"
logdir: "{{ basedir }}/log"
masterdir: "{{ basedir }}/master"
socket: "{{ datadir }}/mysql.sock"
routerdir: "{{ install_dir }}/mysqlrouter_{{ mysql_port }}"
